<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Simulations for Non-inferiority trials â€¢ ssutil</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Simulations for Non-inferiority trials">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">ssutil</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/equivalence.html">Equivalence Testing for Normal Outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/iz_binomial.html">Selecting the best group using the Indifferent-Zone approach for binomial outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/iz_normal.html">Selecting the best group using the Indifferent-Zone approach for normal outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/negative_binomial.html">Simulations for Negative Binomial outcomes</a></li>
    <li><a class="dropdown-item" href="../articles/non_inferiority.html">Simulations for Non-inferiority trials</a></li>
    <li><a class="dropdown-item" href="../articles/power_single_rate.html">Detectable Event Rate for Safety Signal Detection: Using `power_single_rate`</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/johnaponte/ssutil/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Simulations for Non-inferiority trials</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/johnaponte/ssutil/blob/v1.0.0/vignettes/non_inferiority.Rmd" class="external-link"><code>vignettes/non_inferiority.Rmd</code></a></small>
      <div class="d-none name"><code>non_inferiority.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>Non-inferiority tests are used in clinical trials when the objective
is to demonstrate that a new treatment is not significantly worse than a
reference treatment by more than a pre-specified margin.</p>
<p>In designs involving multiple outcomes, it may be required that some
outcomes meet strict non-inferiority criteria (e.g., the primary
outcomes) while others can meet more flexible conditions (e.g., at least
two out of three secondary outcomes).</p>
<p>This vignette shows how to use the <code><a href="../reference/sim_power_ni_normal.html">sim_power_ni_normal()</a></code>
function from the <strong>ssutil</strong> package to estimate power in
such a design.</p>
</div>
<div class="section level2">
<h2 id="example">Example<a class="anchor" aria-label="anchor" href="#example"></a>
</h2>
<p>What is the empirical power of a trial that wants to evaluate
non-inferiority of the immune response for a vaccine against 7
serotypes? Non-inferiority is achieved if the geometric mean ratio
between the candidate vaccine and the reference is greater than 0.5 for
the first two antigens, and for three of the other five.</p>
<p>This example simulates 1000 trials with 125 participants per group, 7
independent outcomes, a standard deviation of 0.8 on the log10 scale for
all outcomes, and a common non-inferiority margin equivalent to
log10(2/3). Non-inferiority is required in the first two outcomes, and
in at least three of the remaining five.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://johnaponte.github.io/ssutil/">ssutil</a></span><span class="op">)</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/Random.html" class="external-link">set.seed</a></span><span class="op">(</span><span class="fl">123</span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sim_power_ni_normal.html">sim_power_ni_normal</a></span><span class="op">(</span></span>
<span>  nsim <span class="op">=</span> <span class="fl">1000</span>,</span>
<span>  npergroup <span class="op">=</span> <span class="fl">125</span>,</span>
<span>  ntest <span class="op">=</span> <span class="fl">7</span>,</span>
<span>  ni_limit <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Log.html" class="external-link">log10</a></span><span class="op">(</span><span class="fl">2</span><span class="op">/</span><span class="fl">3</span><span class="op">)</span>,</span>
<span>  test_req <span class="op">=</span> <span class="fl">2</span>,</span>
<span>  test_opt <span class="op">=</span> <span class="fl">3</span>,</span>
<span>  sd <span class="op">=</span> <span class="fl">0.8</span>,</span>
<span>  corr <span class="op">=</span> <span class="fl">0</span>,</span>
<span>  t_level <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">res</span></span>
<span><span class="co">#&gt; Empirical Power Result</span></span>
<span><span class="co">#&gt; ----------------------- </span></span>
<span><span class="co">#&gt; Power:       0.9120</span></span>
<span><span class="co">#&gt; 95% CI:      [0.8927, 0.9288]</span></span>
<span><span class="co">#&gt; Simulations: 1000</span></span></code></pre></div>
<p>The result shows the proportion of simulations in which the full
non-inferiority rule was satisfied.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://johnaponte.github.io/ssutil/">ssutil</a></span><span class="op">)</span></span></code></pre></div>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by John J. Aponte.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
